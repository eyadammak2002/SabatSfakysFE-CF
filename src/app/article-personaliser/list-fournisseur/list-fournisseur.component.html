<!-- Code HTML complet avec la partie articles -->
<div class="fournisseurs-container">
  <!-- En-tête -->
  <div class="fournisseurs-header">
    <h2 class="fournisseurs-title">Liste des fournisseurs</h2>
    <p class="fournisseurs-subtitle">Sélectionnez un fournisseur pour voir ses détails</p>
  </div>
  
  <!-- Sélecteur de fournisseur -->
  <div class="fournisseur-select-container">
    <select class="fournisseur-select" (change)="onFournisseurSelect($event)">
      <option value="" disabled selected>Choisissez un fournisseur</option>
      <option *ngFor="let f of fournisseurs" [value]="f.id">
        {{ f.nom }}
      </option>
    </select>
    <div class="select-icon">
      <i class="fas fa-chevron-down"></i>
    </div>
  </div>
  
  <!-- Message quand aucun fournisseur n'est sélectionné -->
  <div *ngIf="!selectedFournisseur" class="select-placeholder">
    <div class="placeholder-icon">
      <i class="fas fa-industry"></i>
    </div>
    <p class="placeholder-text">Aucun fournisseur sélectionné</p>
    <p class="placeholder-subtext">Veuillez choisir un fournisseur dans la liste pour voir ses détails</p>
  </div>
  
  <!-- Carte du fournisseur sélectionné -->
  <div *ngIf="selectedFournisseur" class="fournisseur-card">
    <div class="fournisseur-card-header">
      <h4 class="fournisseur-card-title">
        <i class="fas fa-info-circle"></i> Détails du fournisseur
      </h4>
    </div>
    <div class="fournisseur-card-body">
      <!-- Logo/Image du fournisseur -->
      <div class="fournisseur-logo-container">
        <img *ngIf="selectedFournisseur.logo" 
             [src]="'http://localhost:8080/uploads/' + selectedFournisseur.logo.name" 
             class="fournisseur-logo" 
             alt="{{ selectedFournisseur.nom }}">
        <div *ngIf="!selectedFournisseur.logo" class="no-logo">
          <i class="fas fa-building"></i>
        </div>
      </div>
      
      <!-- Informations du fournisseur -->
      <div class="fournisseur-info">
        <div class="info-group">
          <div class="info-icon">
            <i class="fas fa-user"></i>
          </div>
          <div class="info-content">
            <div class="info-label">Nom</div>
            <div class="info-value">{{ selectedFournisseur.nom }}</div>
          </div>
        </div>
        
        <div class="info-group">
          <div class="info-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <div class="info-content">
            <div class="info-label">Email</div>
            <div class="info-value">{{ selectedFournisseur.email }}</div>
          </div>
        </div>
        
        <div class="info-group">
          <div class="info-icon">
            <i class="fas fa-phone"></i>
          </div>
          <div class="info-content">
            <div class="info-label">Téléphone</div>
            <div class="info-value">{{ selectedFournisseur.telephone }}</div>
          </div>
        </div>
        
        <div *ngIf="selectedFournisseur.adresse" class="info-group">
          <div class="info-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <div class="info-content">
            <div class="info-label">Adresse</div>
            <div class="info-value">{{ selectedFournisseur.adresse }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- DÉBUT DE LA PARTIE ARTICLES -->
  <!-- Titre de la section articles -->
  <div *ngIf="selectedFournisseur && articlesDuFournisseur.length > 0" class="articles-section">
    <div class="articles-header">
      <h3 class="articles-title">
        <i class="fas fa-box-open"></i> Articles de {{ selectedFournisseur.nom }}
      </h3>
      <p class="articles-subtitle">{{ articlesDuFournisseur.length }} article(s) trouvé(s)</p>
    </div>
    
    <!-- Grille d'articles -->
    <div class="articles-grid">
      <div *ngFor="let article of articlesDuFournisseur" class="article-card">
        <!-- Image de l'article si disponible -->
        <div class="article-image-container">
          <img *ngIf="article.photos && article.photos.length > 0" 
               [src]="'http://localhost:8080/uploads/' + article.photos[0].url" 
               class="article-image" 
               alt="{{ article.name }}">
          <div *ngIf="!article.photos || article.photos.length === 0" class="no-image">
            <i class="fas fa-image"></i>
          </div>
          
          <!-- Badge statut -->
          <div class="article-status" [ngClass]="{'status-accepted': article.statut === 'ACCEPTE', 
                                              'status-pending': article.statut === 'EN_ATTENTE',
                                              'status-rejected': article.statut === 'REFUSE'}">
            {{ article.statut }}
          </div>
        </div>
        
        <!-- Informations sur l'article -->
        <div class="article-content">
          <h4 class="article-title">{{ article.name }}</h4>
          <p class="article-reference">Réf: {{ article.ref }}</p>
          
          <div class="article-details">
            <div class="article-detail">
              <span class="detail-label">Prix:</span>
              <span class="detail-value">{{ article.prixVente }} DT</span>
            </div>
            
            <div class="article-detail" *ngIf="article.category">
              <span class="detail-label">Catégorie:</span>
              <span class="detail-value">{{ article.category.name }}</span>
            </div>
            
            <!-- Couleurs disponibles -->
            <div class="article-colors" *ngIf="article.stocks && article.stocks.length > 0">
              <span class="colors-label">Couleurs:</span>
              <div class="color-dots">
                <ng-container *ngFor="let stock of getUniqueColors(article.stocks)">
                  <div class="color-dot" [style.background-color]="stock.couleur.nom" 
                       [title]="stock.couleur.nom"></div>
                </ng-container>
              </div>
            </div>
            
            <!-- Stock total -->
            <div class="article-stock">
              <span class="stock-label">Stock total:</span>
              <span class="stock-value">{{ calculateTotalStock(article.stocks) }}</span>
            </div>
          </div>
          
          <!-- Boutons d'action -->
          <div class="article-actions">
            <button class="btn-view" (click)="viewArticleDetails(article)">
              <i class="fas fa-eye"></i> Détails
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Message si aucun article n'est trouvé -->
  <div *ngIf="selectedFournisseur && articlesDuFournisseur.length === 0" class="no-articles">
    <div class="no-articles-icon">
      <i class="fas fa-box-open"></i>
    </div>
    <p class="no-articles-text">Aucun article trouvé pour ce fournisseur.</p>
    <p class="no-articles-subtext">Ce fournisseur n'a pas encore d'articles enregistrés dans le système.</p>
  </div>
  <!-- FIN DE LA PARTIE ARTICLES -->
</div>